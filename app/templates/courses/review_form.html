{% extends 'base.html' %}
{% block title %}发布评价{% endblock %}
{% block content %}
<div class="container">
  <h2 class="mb-3">{{ review and '编辑评价' or '发布评价' }} - {{ course.course_name }}</h2>
  <form method="post">
    <div class="row g-3">
      <div class="col-md-4">
        <label class="form-label">综合评分 (1-5)</label>
        <input type="number" name="rating" min="1" max="5" class="form-control" value="{{ review and review.rating or '' }}" required />
      </div>
      <div class="col-md-4">
        <label class="form-label">难度 (1-5)</label>
        <input type="number" name="difficulty" min="1" max="5" class="form-control" value="{{ review and review.difficulty or '' }}" />
      </div>
      <div class="col-md-4">
        <label class="form-label">工作量 (1-5)</label>
        <input type="number" name="workload" min="1" max="5" class="form-control" value="{{ review and review.workload or '' }}" />
      </div>
      <div class="col-12">
        <label class="form-label">课程评价</label>
        <textarea name="content" class="form-control" rows="4">{{ review and review.content or '' }}</textarea>
      </div>
      <div class="col-12">
        <label class="form-label">考试信息</label>
        <textarea name="exam_info" class="form-control" rows="3">{{ review and review.exam_info or '' }}</textarea>
      </div>
      <div class="col-12">
        <label class="form-label">学习建议</label>
        <textarea name="study_tips" class="form-control" rows="3">{{ review and review.study_tips or '' }}</textarea>
      </div>
      <div class="col-12 form-check">
        <input type="checkbox" class="form-check-input" id="is_anonymous" name="is_anonymous" {% if review and review.is_anonymous %}checked{% endif %} />
        <label class="form-check-label" for="is_anonymous">匿名发布</label>
      </div>
    </div>
    <div class="mt-3">
      <button type="submit" class="btn btn-primary">提交</button>
      <a class="btn btn-outline-secondary" href="{{ url_for('courses.detail', course_id=course.id) }}">取消</a>
    </div>
  </form>
</div>
{% endblock %}
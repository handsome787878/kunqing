{% extends 'base.html' %}
{% block title %}我的课程评价{% endblock %}
{% block content %}
<h2 class="mb-3">我的课程评价</h2>
<div class="list-group">
  {% for r in reviews %}
  <div class="list-group-item">
    <div class="d-flex w-100 justify-content-between">
      <h5 class="mb-1">{{ r.course.course_name }}</h5>
      <small class="text-muted">{{ r.create_time.strftime('%Y-%m-%d') }}</small>
    </div>
    <p class="mb-1">综合 {{ r.rating }} · 难度 {{ r.difficulty }} · 工作量 {{ r.workload }}</p>
    <p class="mb-2">{{ r.content }}</p>
    <a class="btn btn-sm btn-outline-secondary" href="{{ url_for('courses.edit_review', review_id=r.id) }}">编辑</a>
    <a class="btn btn-sm btn-outline-primary" href="{{ url_for('courses.detail', course_id=r.course_id) }}">查看课程</a>
  </div>
  {% endfor %}
</div>
{% if pagination.pages > 1 %}
<nav class="mt-3">
  <ul class="pagination">
    {% if pagination.has_prev %}
    <li class="page-item"><a class="page-link" href="{{ url_for('courses.my_reviews', page=pagination.prev_num) }}">上一页</a></li>
    {% endif %}
    <li class="page-item disabled"><span class="page-link">第 {{ pagination.page }} / {{ pagination.pages }} 页</span></li>
    {% if pagination.has_next %}
    <li class="page-item"><a class="page-link" href="{{ url_for('courses.my_reviews', page=pagination.next_num) }}">下一页</a></li>
    {% endif %}
  </ul>
</nav>
{% endif %}
{% endblock %}